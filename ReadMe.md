# –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á"

* –ö–∞–∂–¥–∞—è –æ—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
  ```
  interface ITask {
    targetId: number
    action: 'init' | 'prepare' | 'work' | 'finalize' | 'cleanup'
  }
  ```

  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏ `_onComplete` –∏–ª–∏ `_onExecute` –Ω–µ–ª—å–∑—è, –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

* –ï—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å `Executor` (`src/Executor.ts`), –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –∏—Å–ø–æ–ª–Ω—è—Ç—å –æ–¥–Ω—É –∑–∞–¥–∞—á—É:
  ```
  Executor.executeTask(task: ITask): Promise<void>
  ```

  –í —Ä–µ—à–µ–Ω–∏–∏ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `Executor`, —Ç–æ–ª—å–∫–æ `IExecutor.executeTask()`.

–ù–∞–¥–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –æ—á–µ—Ä–µ–¥—å
–∑–∞–¥–∞—á `AsyncIterable<ITask>` –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª-–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö "–ø–æ—Ç–æ–∫–æ–≤" `maxThreads` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–∞–∑—Ä–µ–∑–æ–ª–≤–ª–µ–Ω, –∫–æ–≥–¥–µ –≤—Å–µ –∑–∞–¥–∞—á–∏
–æ—Ç—Ä–∞–±–æ—Ç–∞—é—Ç.

```
async function run(executor: IExecutor, queue: AsyncIterable<ITask>, maxThreads = 0): Promise<{...}>
```
–ü—Ä–∏ `maxThreads == 0` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª-–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö "–ø–æ—Ç–æ–∫–æ–≤" –Ω–µ—Ç—É.

–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ, —Å—Ç–∞—Ä–∞—è—Å—å –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –∑–∞–¥–∞—á –∏—Å–ø–æ–ª–Ω–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ. –ù–æ, –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (–≤ –Ω–µ–º –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞—á–∏): –≤ –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ `Executor` –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ `Task.targetId`, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –æ–Ω –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª–Ω—è—Ç—å –º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á —Å —Ä–∞–∑–Ω—ã–º–∏ `Task.targetId` –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.

* –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã –≤—ã–∑–æ–≤–µ–º  
  ```
  executor.executeTask({ targetId: 0, action: 'init' });
  executor.executeTask({ targetId: 0, action: 'prepare' });
  ```  
  —Ç–æ, –≤—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤ –∫–∏–Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

* –ü—Ä–∏ —ç—Ç–æ–º  
  ```
  executor.executeTask({ targetId: 0, action: 'init' });
  executor.executeTask({ targetId: 1, action: 'prepare' });
  ```  
  –∏–ª–∏
  ```
  await executor.executeTask({ targetId: 0, action: 'init' });
  await executor.executeTask({ targetId: 0, action: 'prepare' });
  ```  
  –æ—Ç—Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

–ü—Ä–∏ –≤–∑—è—Ç–∏–∏ –∑–∞–¥–∞—á–∏ –∏–∑ –æ—á–µ—Ä–µ–¥–∏ (–≤—ã–∑–æ–≤ `iterator.next()` –∏–ª–∏ –∏—Ç–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `for ... of`) –æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –æ—á–µ—Ä–µ–¥–∏, –ø—Ä–∏ —ç—Ç–æ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –Ω–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è. –ü—Ä–∏ —ç—Ç–æ–º –Ω–∞–¥–æ —É—á–µ—Å—Ç—å, —á—Ç–æ –æ—á–µ—Ä–µ–¥—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ø–æ–ª–Ω–µ–Ω–∞ –≤–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á, –∞ —Ç–∞–∫–∂–µ, –Ω–∏–∫—Ç–æ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ—á–µ—Ä–µ–¥—å –∫–æ–Ω–µ—á–Ω–∞ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ.

–ö—Ä–∏—Ç–µ—Ä–∏–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ `run()`: –≤—Å–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∏ –≤ –æ—á–µ—Ä–µ–¥–∏ –±–æ–ª—å—à–µ –Ω–µ—Ç—É –Ω–æ–≤—ã—Ö –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.

–í—Å–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ `ITask.targetId` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å–ø–æ–ª–Ω–µ–Ω—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

* `Node.js version >= 12`

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

`npm install`

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ—à–µ–Ω–∏—è
* –ó–∞–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ `run()` –ª–µ–∂–∏—Ç –≤ `./src/run.ts`. 
* –ù–∏–∫–∞–∫–∏–µ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã, –∫—Ä–æ–º–µ `./src/run.ts` –º–µ–Ω—è—Ç—å –Ω–µ–ª—å–∑—è. 
* –û–±–≤—è–∑–æ—á–Ω—ã–π –∫–æ–¥ –≤ `run.ts` –º–µ–Ω—è—Ç—å –Ω–µ–ª—å–∑—è
* –í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `run()` —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Å–∑–µ–º–ø–ª—è—Ä—ã `Executor` –Ω–µ–ª—å–∑—è.

## –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ—à–µ–Ω–∏—è

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —è –Ω–∞–ø–∏—Å–∞–ª —Ç–µ—Å—Ç—ã –¥–ª—è `run()`, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –µ—ë —Ä–∞–±–æ—Ç—ã.

`npm run test`

–¢–∞–∫–∂–µ —Ç–µ—Å—Ç—ã –≥–µ–Ω–µ—Ä—è—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã-–ª–æ–≥–∏ `./test/*.log.html`.

–ï—Å–ª–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ –æ–Ω–∏ –∑–∞–≤–∏—Å–∞—é—Ç –≤ —Ç–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, –∫–∞–∫ –Ω–∏–∂–µ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ, —Ç–æ –≤–µ—Ä–æ—è—Ç–Ω–æ –≤—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –æ—á–µ–Ω—å –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ task-–æ–≤ –Ω–∞–ø–µ—Ä–µ–¥ (–±–æ–ª—å—à–µ, —á–µ–º —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤ –º–æ–º–µ–Ω—Ç–µ).
–í —Å–∏—Å—Ç–µ–º–µ —Ç–µ—Å—Ç–æ–≤ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞—â–∏—Ç–∞ –æ—Ç —Ç–∞–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π.

<img width="369" alt="Code_O2bY8fy5hD" src="https://github.com/user-attachments/assets/50278778-01fc-40df-aeda-884de73e7577">


–£ –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è `npm run test` –¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –≤—ã–≤–æ–¥:

<img width="440" alt="Code_RLL5YHVeFu" src="https://github.com/user-attachments/assets/76743e2a-5fdb-4d19-8d3e-0a0a8f01c6b8">


## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ü–µ—Ä–≤–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è (3 –Ω–µ–±–æ–ª—å—à–∏—Ö –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –±—ã—Å—Ç—Ä–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã):**

![Test Results Iteration 1](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/102599903/3e8a3c48-e650-44d7-b6ad-09db21aef224/image.jpg?AWSAccessKeyId=ASIA2F3EMEYE32T7ME5Y&Signature=qR8T4jLHvVgFxhlZXLXtDnTy44Y%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEJj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLWVhc3QtMSJIMEYCIQCNNucZKi6KYDtmMK1ra55Y6fdTHZDPVLrLoVJjMoMjFQIhAICBJVVUgdysz2%2FuYZ9bjs1TQxW9QBmO3yk8Q0%2BEPx%2F7KvMECFEQARoMNjk5NzUzMzA5NzA1IgwudhkpO2vmuSzpsTAq0AT7nHX7JObIbjajFCRTOcwUQxrQ5Nq%2BzNDod556AapFLv6i7PB%2FM2XwFDOPJfU%2BmpRR%2BuODQLupc0VY8D2TiMw0R2Ev1CHL4SUWcfLA8ANP0oMZyfenX1JqlqV75InJIum1QnlcxDdZXsCaC5jU1%2Blf0qm%2FO0enmEC5MjiuKaE7MonTFJsCwuTHRT0xkN7lz968xpsTP3n9NBCx9LQ7wlepL8b6tVRmu0CmikG8UgIDc0%2Fx%2FmzRDaPEVlzLjkTrDeOakfyRD3XGuXXBGgmLzaCRJR6i1tvQ5Re1zQelJOa8Z7QnHb31oETkl9xr6CRvNu842AxqoxkSApHY9wmiXDZWYnKOueeGve%2FdCchkZnXPt%2FX3wp9AoQrNra31D5Q6VKlaEYpRypbbjVXauKhAvUFJ9JQFxa8xcz2b04fra50A38vqgYQALlW7dtu0Uud7opiQBii0axcrKE3Kg3p5SK%2FgbRv%2BL9M5HetCn714bsJcQl%2B1d%2BavwIrDE%2Bp2z8oK2RiuT%2FZwQ8fywwRuLCNGyCS6BrU54fonuTDkk3VYoHx83wzOvBFhzxaX2ZLsByeJiqW8SEoE1GyKojSkeull4hwl4ekvUjEF7U1fxKoNKHaUrQZ23GCHOzKujqCXx222%2BLptk7m3tGBshAN%2BA90y4TE%2FfMgOhD%2FowUkFeJuxtjRFVBXLlUMUhMQxpHBZaAomRY7QNI3h1hZPave4eEHkZCj00hylhD4TS8eWXjM7gShiVwauKdvh5xIxKTGE9A7JoO5qXSgGeNb07iJwLzKBT5f5MOL86scGOpcB89TGmvGQGAwhMyyW3w84pVbVNMIr7iuxm98Uyd5qVp34ytdBbpcl7qPjlZfUspb3C2gICoWWnBUB9QrjD7TQS5WSJqvSHI8EDonMx86Bpegb8Ly83y6QbGBttHCzHDAK%2FoO%2BJz0iQivA2514N6PMdBGFcHAN0Id46YW3MYwEsARTqMN4V784luVGZss4Vtavlj6lEeZ8cw%3D%3D&Expires=1761265965)

> **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–µ—Ä–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:**
> - 30 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ ‚úÖ
> - 5 —Ç–µ—Å—Ç–æ–≤ —Å –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏)

### üí¨ –û—Ç–∑—ã–≤ –æ—Ç HR

> **–ú–∞—Ç–≤–µ–π, –≤–æ—Ç —Ç–µ–ø–µ—Ä—å –≤—Å—ë –æ—Ç–ª–∏—á–Ω–æ!**
> 
> –í–∏–∂—É, —á—Ç–æ –≤—ã —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ.
> 
> *Anastasia Korneva*
